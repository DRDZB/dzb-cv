# Repository Audit Report

**Date:** 2025-04-26

**Repository:** dzb-cv

## Overview

This report provides an analysis of the repository structure, test coverage, documentation, and dependencies. It identifies potential areas for improvement and optimization.

## Table of Contents

- [Test Coverage Statistics](#test-coverage-statistics)
- [Empty Documentation Files](#empty-documentation-files)
- [Duplicate/Unused Code and Types](#duplicateunused-code-and-types)
- [Dependency Analysis](#dependency-analysis)
- [CLI Command Inventory](#cli-command-inventory)
- [Summary and Recommendations](#summary-and-recommendations)

## Test Coverage Statistics

> ⚠️ Could not find coverage report. Run `pnpm test:coverage` manually and try again.

## Empty Documentation Files

> No empty documentation files found.

## Duplicate/Unused Code and Types

### Duplicate Type Definitions

The following type definitions appear in both core/types and shared/types:

| Type File | Core Path | Shared Path |
|-----------|-----------|-------------|
| academic-types.ts | src/core/types/academic-types.ts | src/shared/types/academic-types.ts |
| ats-types.ts | src/core/types/ats-types.ts | src/shared/types/ats-types.ts |
| cv-base.ts | src/core/types/cv-base.ts | src/shared/types/cv-base.ts |
| cv-generation.ts | src/core/types/cv-generation.ts | src/shared/types/cv-generation.ts |
| cv-types.js | src/core/types/cv-types.js | src/shared/types/cv-types.js |
| cv-types.ts | src/core/types/cv-types.ts | src/shared/types/cv-types.ts |
| index.ts | src/core/types/index.ts | src/shared/types/index.ts |

### Potentially Unused Files

> Note: This is a heuristic check and may include false positives.

The following files might be unused (no imports found):

| File | Path |
|------|------|
| AgentMessageBus.ts | src/AgentMessageBus.ts |
| extract-text.ts | src/ats/agents/tools/extract-text.ts |
| constants.ts | src/ats/constants.ts |
| bootstrap.ts | src/bootstrap.ts |
| import-service.ts | src/core/services/import/import-service.ts |
| mock-pdf-generator.ts | src/core/services/pdf/mock-pdf-generator.ts |
| experience-types.ts | src/core/services/pdf/templates/experience-types.ts |
| modern-template.ts | src/core/services/pdf/templates/modern-template.ts |
| template-selector.ts | src/core/services/pdf/templates/template-selector.ts |
| config-types.ts | src/core/types/config-types.ts |
| job-analysis.ts | src/core/types/job-analysis.ts |
| academic-cv-validator.ts | src/core/utils/validators/academic-cv-validator.ts |
| ats-validator.ts | src/core/utils/validators/ats-validator.ts |
| convert-cv.ts | src/scripts/convert-cv.ts |
| generate-mercyhealth-pdf.ts | src/scripts/generate-mercyhealth-pdf.ts |
| generate-pdfs.ts | src/scripts/generate-pdfs.ts |
| score-resume.ts | src/scripts/score-resume.ts |
| constants.ts | src/shared/constants.ts |
| analyze-mercy-posting.ts | src/shared/tools/analyze-mercy-posting.ts |
| asset-manager.ts | src/shared/tools/asset-manager.ts |
| helpers.ts | src/shared/tools/helpers.ts |
| job-scraper.ts | src/shared/tools/job-scraper.ts |
| path-resolver.ts | src/shared/tools/path-resolver.ts |
| pdf-generator-ats.ts | src/shared/tools/pdf-generator-ats.ts |
| scrape-mercy-posting.ts | src/shared/tools/scrape-mercy-posting.ts |
| helpers.ts | src/shared/utils/helpers.ts |
| path-resolver.ts | src/shared/utils/path-resolver.ts |
| spawnAgent.ts | src/spawnAgent.ts |
| setup.ts | src/test/setup.ts |
| tool-demo.ts | src/tool-demo.ts |

## Dependency Analysis

### Dependency Categories

| Category | Count |
|----------|-------|
| Other | 13 |
| TypeScript | 11 |
| Markdown | 6 |
| PDF | 4 |
| Testing | 3 |
| CLI | 3 |
| Utils | 2 |
| Build | 1 |
| UI | 0 |

### Potentially Duplicate Libraries

#### PDF Generation/Processing

| Library | Type |
|---------|------|
| pdf-lib | dependency |
| pdfjs-dist | dependency |
| puppeteer | dependency |
| pdf-parse | dependency |
| @types/pdfjs-dist | devDependency |

#### Markdown Processing

| Library | Type |
|---------|------|
| @types/markdown-it | dependency |
| markdown-it | dependency |
| marked | dependency |
| marked-gfm-heading-id | dependency |
| marked-highlight | dependency |
| marked-mangle | dependency |
| marked-smartypants | dependency |

### Outdated Dependencies

> Note: This is a list of dependencies that might have newer versions available.

> Could not check for outdated dependencies.
## CLI Command Inventory

### Available Commands

| Command | File | Description |
|---------|------|-------------|
| analyze-job | src/cli/commands/analyze-job.ts | No description available |
| base-command | src/cli/commands/base-command.ts | No description available |
| generate-cv | src/cli/commands/generate-cv.ts | No description available |
| manage-profile | src/cli/commands/manage-profile.ts | Import a CV document into the profile management system |

### Command Structure

```
dzb-cv
└── analyze-job
└── base-command
└── generate-cv
└── manage-profile
```

## Summary and Recommendations

Based on the analysis, here are key recommendations for improving the repository:

1. **Testing:** Increase test coverage, particularly for core services.
2. **Documentation:** Fill in empty documentation files, especially architecture documentation.
3. **Code Organization:** Address duplicate type definitions between core and shared modules.
4. **Dependencies:** Consider consolidating duplicate libraries (PDF, Markdown) to reduce bundle size.
5. **Build System:** Modernize with faster build tools and comprehensive CI pipeline.

This audit report was generated automatically by `scripts/audit.ts` on 2025-04-26.
